<!DOCTYPE html>
<html lang="pt-br">
  Â 
  <head>
    Â  Â 
    <meta charset="UTF-8" />
    Â  Â 
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    Â  Â 
    <title>Mapa Interativo - IFSC Campus FlorianÃ³polis</title>
    Â  Â 
<style>
  @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap");
  @import url("https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap");

  body,
  html {
    height: 100%;
    margin: 0;
    overflow: hidden;
    color: #333;
  }
  body {
    font-family: "Poppins", sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    background: linear-gradient(135deg, #4dc2c2, #2a8e8e);
  }
  .map-info {
    padding: 20px;
    background-color: transparent;
    color: #ffffff;
    text-align: center;
    box-sizing: border-box;
    z-index: 5;
  }
  .map-info h1 {
    font-family: "Fredoka One", sans-serif;
    font-size: 2.2em;
    margin-bottom: 5px;
    color: #ffffff;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
  }
  .map-info p {
    font-size: 0.9em;
    margin-bottom: 3px;
    line-height: 1.4;
  }
  .map-info .zoom-instruction {
    font-size: 1em;
    font-weight: 600;
    margin-top: 10px;
    color: #f5f5dc;
  }
  .map-container {
    position: relative;
    max-width: 900px;
    width: 90vw;
    border: 10px solid #ffffff;
    border-radius: 20px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }
  #campus-map-img {
    display: block;
    width: 100%;
    height: auto;
    border-radius: 10px;
  }
  #interactive-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    cursor: grab;
  }
  .popup {
    display: none;
    position: fixed;
    top: 60%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    background-color: #f5f5dc;
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    z-index: 10;
    max-width: 450px;
    width: 90%;
    text-align: left;
    border: 5px solid #2a8e8e;
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
  }
  .popup.active {
    display: block;
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  .popup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px dashed #4ebebe;
    padding-bottom: 10px;
    margin-bottom: 15px;
  }
  .popup-header h3 {
    margin: 0;
    color: #2a8e8e;
    font-weight: 600;
  }
  .popup-header button {
    background: #4dc2c2;
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 20px;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s ease-in-out;
  }
  .popup-header button:hover {
    background: #2a8e8e;
  }
  .popup-content p,
  .popup-content ul {
    margin: 0;
    padding: 0;
    line-height: 1.5;
    font-size: 16px;
  }
  .popup-content strong {
    color: #2a8e8e;
  }
  .popup-content ul {
    list-style-type: none;
    padding-left: 0;
  }
  .popup-content ul li::before {
    content: "â€¢";
    color: #4dc2c2;
    margin-right: 8px;
  }

  #popup-location-message {
    font-family: "Fredoka One", sans-serif;
    font-size: 1.4em;
    font-weight: 700;
    color: #ef4444;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    padding-bottom: 10px;
    border-bottom: 2px dashed #ef4444;
    margin-bottom: 15px;
    text-align: center;
  }

  @media (max-width: 768px) {
    .map-info {
      padding: 15px 10px;
    }
    .map-info h1 {
      font-size: 1.6em;
      margin-bottom: 2px;
    }
    .map-info p {
      font-size: 0.7em;
      margin-bottom: 1px;
    }
    .map-info .zoom-instruction {
      font-size: 0.8em;
      margin-top: 5px;
    }
    .map-container {
      width: 95vw;
      height: auto;
      border-width: 5px;
      border-radius: 15px;
    }
    .popup {
      width: 95%;
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
      border-width: 3px;
      border-radius: 15px;
    }
  }
</style>
    Â 
  </head>
  Â 
  <body>
    Â  Â 
    <div class="map-info">
      Â  Â  Â 
      <h1>MAPA SNCT 2025</h1>
      Â  Â  Â 
      <p>Clique nos setores para ver seus cronogramas e projetos.</p>
      Â  Â  Â 
      <p class="zoom-instruction">DÃª zoom para melhor visualizaÃ§Ã£o ğŸ”</p>
      Â  Â 
    </div>

    Â  Â 
    <div class="map-container">
      Â  Â  Â 
      <img
        src="Mapa total (1).jpg"
        alt="Mapa do CÃ¢mpus IFSC FlorianÃ³polis"
        id="campus-map-img"
      />
      Â  Â  Â  <canvas id="interactive-canvas"></canvas>

      Â  Â  Â 
      <div id="popup-container" class="popup">
        Â  Â  Â  Â 
        <div class="popup-header">
          Â  Â  Â  Â  Â 
          <h3 id="popup-title"></h3>
          Â  Â  Â  Â  Â  <button onclick="closeInfo()">Ã—</button> Â  Â  Â  Â 
        </div>
        Â  Â  Â  Â 
        <div class="popup-content">
          Â  Â  Â  Â  Â 
          <div id="popup-location-message"></div>

          Â  Â  Â  Â  Â 
          <p id="popup-content-text"></p>
          Â  Â  Â  Â 
        </div>
        Â  Â  Â 
      </div>
      Â  Â 
    </div>

    Â  Â 
    <script>
      const popup = document.getElementById("popup-container");
      const popupTitle = document.getElementById("popup-title");
      const popupContent = document.getElementById("popup-content-text");
      const mapImg = document.getElementById("campus-map-img");
      const canvas = document.getElementById("interactive-canvas");
      const ctx = canvas.getContext("2d");
      const mapContainer = document.querySelector(".map-container");
      const popupLocationMessage = document.getElementById(
        "popup-location-message"
      );

      const sectors = {
        hall: {
          title: "Hall de Entrada",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Ãrea principal do evento, onde a recepÃ§Ã£o, credenciamento e estandes de informaÃ§Ãµes estÃ£o localizados.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>14:00 - Abertura oficial do evento e discurso de boas-vindas.</li><li>14:30 - ApresentaÃ§Ã£o cultural.</li></ul>`,
          coords: "419,344,415,402,461,445,570,432,568,377,527,326,429,342",
          icon: "H",
        },
        "ala-b": {
          title: "Ala B - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> ExposiÃ§Ã£o de projetos de TCC dos alunos dos cursos de T.I e Engenharia.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>15:00 - DemonstraÃ§Ã£o de protÃ³tipo de automaÃ§Ã£o residencial.</li><li>16:30 - ApresentaÃ§Ã£o do projeto de aplicativo para seguranÃ§a alimentar.</li></ul>`,
          coords: "502,258,517,252,537,268,519,293,471,287",
          icon: "B",
        },
        "ala-c": {
          title: "Ala C - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Salas de aula onde acontecerÃ£o minicursos e palestras.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>15:00 - Palestra: "InovaÃ§Ã£o e Empreendedorismo no Setor de Tecnologia"</li><li>16:00 - Minicurso: "IntroduÃ§Ã£o Ã  ProgramaÃ§Ã£o com Python"</li></ul>`,
          coords: "337,257,421,279,504,195,503,138,419,126,328,191,332,255",
          icon: "C",
        },
        "ala-d": {
          title: "Ala D - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> LaboratÃ³rios de eletrÃ´nica e mecÃ¢nica. Aqui vocÃª poderÃ¡ ver experimentos prÃ¡ticos e demonstraÃ§Ãµes.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>14:30 - Experimentos com circuitos elÃ©tricos.</li><li>16:00 - DemonstraÃ§Ã£o de protÃ³tipo de braÃ§o robÃ³tico.</li></ul>`,
          coords: "369,101,385,139,284,256,232,241",
          icon: "D",
        },
        "ala-e": {
          title: "Ala E - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Ãrea para oficinas de esportes e atividades recreativas para os visitantes.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>15:00 - Oficina de vÃ´lei.</li><li>16:00 - Aulas abertas de basquete.</li></ul>`,
          coords: "403,59,400,103,484,112,520,75,512,31,447,20",
          icon: "E",
        },
        "ala-f": {
          title: "Ala F - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Quadra poliesportiva. Local para atividades ao ar livre e jogos interativos.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>14:00 - Jogos de tabuleiro gigantes.</li><li>15:30 - CompetiÃ§Ã£o de e-sports no telÃ£o.</li></ul>`,
          coords: "648,231,627,201,606,205,533,297,590,309",
          icon: "F",
        },
        "ala-g": {
          title: "Ala G - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> O principal auditÃ³rio do campus. Aqui serÃ£o realizados os workshops e palestras mais importantes.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>15:00 - Palestra Magna: "O Papel da CiÃªncia na ConstruÃ§Ã£o do Futuro".</li><li>17:00 - Mesa Redonda: "Desafios e Oportunidades na Ãrea de Pesquisa".</li></ul>`,
          coords: "594,312,830,366,873,274,649,232,591,305",
          icon: "G",
        },
        "ala-h": {
          title: "Ala H - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> LaboratÃ³rios de quÃ­mica e biologia. SerÃ£o realizados experimentos prÃ¡ticos e demonstraÃ§Ãµes de tÃ©cnicas laboratoriais.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>14:30 - Oficina de extraÃ§Ã£o de DNA de frutas.</li><li>16:00 - DemonstraÃ§Ã£o de reaÃ§Ãµes quÃ­micas coloridas.</li></ul>`,
          coords: "782,190,866,204,857,264,756,253",
          icon: "H",
        },
        "ala-i": {
          title: "Ala I - Local",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Ãrea de alimentaÃ§Ã£o principal do evento. TerÃ¡ food trucks e estandes de comida e bebida.</p><p><strong>ProgramaÃ§Ã£o:</strong></p><ul><li>12:00 Ã s 18:00 - Venda de lanches, almoÃ§o e bebidas.</li><li>15:00 - MÃºsica ao vivo para animar o ambiente.</li></ul>`,
          coords: "800,525,873,544,902,437,832,419,796,520",
          icon: "I",
        },

        "auditorio-novo": {
          title: "AuditÃ³rio",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Adicione uma descriÃ§Ã£o aqui.</p><p><strong>ProgramaÃ§Ã£o:</strong> Detalhe as atividades aqui.</p>`,
          coords: "145,314,144,345,191,345,191,314,145,313,145,314,146,314",
          icon: "A",
        },
        "galeria-de-arte": {
          title: "Galeria de Arte",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Adicione uma descriÃ§Ã£o aqui.</p><p><strong>ProgramaÃ§Ã£o:</strong> Detalhe as atividades aqui.</p>`,
          coords: "168,297,209,297,209,271,170,270",
          icon: "G",
        },
        quadra: {
          title: "Quadra",
          content: `<p><strong>DescriÃ§Ã£o:</strong> Adicione uma descriÃ§Ã£o aqui.</p><p><strong>ProgramaÃ§Ã£o:</strong> Detalhe as atividades aqui.</p>`,
          coords: "560,136,689,159,664,208,532,181",
          icon: "Q",
        },
      };

      let scaleX = 1;
      let scaleY = 1;

      function drawPolygon(coords, style) {
        if (!coords) return;
        const points = coords.split(",").map(Number);

        ctx.beginPath();
        ctx.moveTo(points[0], points[1]);
        for (let i = 2; i < points.length; i += 2) {
          ctx.lineTo(points[i], points[i + 1]);
        }
        ctx.closePath();

        if (style.fill) {
          ctx.fillStyle = style.fill;
          ctx.fill();
        }
        if (style.stroke) {
          ctx.strokeStyle = style.stroke;
          ctx.lineWidth = style.lineWidth || 2;
          ctx.stroke();
        }
      }

      function getPolygonCenter(coords) {
        const points = coords.split(",").map(Number);
        let minX = Infinity,
          minY = Infinity,
          maxX = -Infinity,
          maxY = -Infinity;
        for (let i = 0; i < points.length; i += 2) {
          minX = Math.min(minX, points[i]);
          maxX = Math.max(maxX, points[i]);
          minY = Math.min(minY, points[i + 1]);
          maxY = Math.max(maxY, points[i + 1]);
        }
        return {
          x: (minX + maxX) / 2,
          y: (minY + maxY) / 2,
        };
      }

      function drawSectorIcon(sectorId, coords, iconText) {
        const center = getPolygonCenter(coords);
        const iconSize = 15;
        const fontSize = 16;

        ctx.beginPath();
        ctx.arc(center.x, center.y, iconSize, 0, Math.PI * 2, false);
        ctx.fillStyle = "rgba(245, 245, 220, 0.9)";
        ctx.fill();
        ctx.strokeStyle = "#2a8e8e"; /* Verde-Ã¡gua */
        ctx.lineWidth = 2;
        ctx.stroke();

        ctx.font = `700 ${fontSize}px 'Fredoka One'`;
        ctx.fillStyle = "#000";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText(iconText, center.x, center.y + 2);
      }

      function drawPermanentBordersAndIcons() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (const id in sectors) {
          drawPolygon(sectors[id].coords, {
            stroke: "#2a8e8e",
            lineWidth: 4,
          }); /* Verde-Ã¡gua */
          drawSectorIcon(id, sectors[id].coords, sectors[id].icon);
        }
      }

      function initMap() {
        canvas.width = mapImg.naturalWidth;
        canvas.height = mapImg.naturalHeight;

        scaleX = mapImg.naturalWidth / mapImg.offsetWidth;
        scaleY = mapImg.naturalHeight / mapImg.offsetHeight;

        drawPermanentBordersAndIcons();
      }

      canvas.addEventListener("mousemove", (e) => {
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawPermanentBordersAndIcons();

        for (const id in sectors) {
          const coords = sectors[id].coords;
          const points = coords.split(",").map(Number);

          ctx.beginPath();
          ctx.moveTo(points[0], points[1]);
          for (let i = 2; i < points.length; i += 2) {
            ctx.lineTo(points[i], points[i + 1]);
          }
          ctx.closePath();

          if (ctx.isPointInPath(mouseX * scaleX, mouseY * scaleY)) {
            drawPolygon(coords, {
              stroke: "#ffffff",
              lineWidth: 6,
            }); /* Branco */
            drawSectorIcon(id, sectors[id].coords, sectors[id].icon);
            break;
          }
        }
      });

      canvas.addEventListener("click", (e) => {
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;

        for (const id in sectors) {
          const coords = sectors[id].coords;
          const points = coords.split(",").map(Number);

          ctx.beginPath();
          ctx.moveTo(points[0], points[1]);
          for (let i = 2; i < points.length; i += 2) {
            ctx.lineTo(points[i], points[i + 1]);
          }
          ctx.closePath();

          if (ctx.isPointInPath(mouseX * scaleX, mouseY * scaleY)) {
            showInfo(id);
            break;
          }
        }
      });

      function showInfo(sector) {
        if (sectors[sector]) {
          popupTitle.innerHTML = sectors[sector].title;
          popupContent.innerHTML = sectors[sector].content; // Limpa o conteÃºdo de localizaÃ§Ã£o para que ele nÃ£o apareÃ§a em cliques normais
          popupLocationMessage.innerHTML = "";
          popup.classList.add("active");
        }
      }

      function closeInfo() {
        popup.classList.remove("active");
      } // FunÃ§Ã£o para pegar o parÃ¢metro da URL

      function getUrlParameter(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
        var results = regex.exec(location.search);
        return results === null
          ? ""
          : decodeURIComponent(results[1].replace(/\+/g, " "));
      } // FunÃ§Ã£o para exibir o pop-up e a mensagem "VOCÃŠ ESTÃ AQUI"

      function showInfoFromUrl() {
        const sectorId = getUrlParameter("setor");
        if (sectorId && sectors[sectorId]) {
          const sectorData = sectors[sectorId]; // Limpa o conteÃºdo e define o novo

          popupTitle.innerHTML = sectorData.title;
          popupContent.innerHTML = sectorData.content;
          popupLocationMessage.innerHTML = `VOCÃŠ ESTÃ AQUI ğŸš©`; // Injeta a mensagem com a bandeira // Desenha o polÃ­gono destacado

          ctx.clearRect(0, 0, canvas.width, canvas.height);
          drawPermanentBordersAndIcons();
          drawPolygon(sectorData.coords, { stroke: "#ffffff", lineWidth: 6 });
          drawSectorIcon(sectorId, sectorData.coords, sectorData.icon); // Mostra o pop-up
          popup.classList.add("active");
        } else {
          // Se nÃ£o tiver setor na URL, garante que a mensagem de localizaÃ§Ã£o esteja vazia
          popupLocationMessage.innerHTML = "";
        }
      } // A nova funÃ§Ã£o de inicializaÃ§Ã£o da pÃ¡gina
      window.onload = function () {
        initMap();
        showInfoFromUrl();
      };

      window.addEventListener("resize", initMap);
    </script>
    Â 
  </body>
</html>